function array_splice(e,r,t,i){var n=require("../var/is_int"),o=function(e,r,t){if(void 0!==e[r]){var i=r;r+=1,r===t&&(r+=1),r=o(e,r,t),e[r]=e[i],delete e[i]}return r};if(i&&"object"!=typeof i&&(i=[i]),void 0===t?t=r>=0?e.length-r:-r:t<0&&(t=(r>=0?e.length-r:-r)+t),"[object Array]"!==Object.prototype.toString.call(e)){var l=0,p=-1,a=[],f={},c=-1,u=-1,s=!0,y=0,v="";for(v in e)l+=1;r=r>=0?r:l+r;for(v in e)if((p+=1)<r){if(n(v)){if(u+=1,parseInt(v,10)===u)continue;o(e,u,v),e[u]=e[v],delete e[v]}}else s&&n(v)?(a.push(e[v]),f[y++]=e[v]):(f[v]=e[v],s=!1),i&&i[++c]?e[v]=i[c]:delete e[v];return s?a:f}return i?(i.unshift(r,t),Array.prototype.splice.apply(e,i)):e.splice(r,t)}